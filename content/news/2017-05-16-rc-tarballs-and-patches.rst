RC tarballs and patches starting with 4.12-rc1
==============================================

:category: Site news

As you may be aware, starting with 4.12-rc1 Linus will `no longer provide`_
signed tarballs and patches for pre-release ("-rc") kernels. Reasons for
this are multiple, but largely this is because people who are most
interested in pre-release tags -- kernel developers -- do not rely on
patches and tarballs to do their work.

.. _`no longer provide`: https://lwn.net/Articles/722660/

Obtaining tarballs on your own
------------------------------
Here is how you can generate the tarball from a pre-release tag using
the "``git archive``" command (we'll use 4.12-rc1 in these examples)::

  git clone git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git
  cd linux
  git verify-tag v4.12-rc1
  git archive --format=tar.gz --prefix=linux-4.12-rc1/ \
    -o linux-4.12.tar.gz v4.12-rc1

The upside of this method is that during the "``git verify-tag``" step
you will check the PGP signature on the tag to make sure that what you
cloned is exactly the same tree as on Linus Torvalds's computer.

The downside of this method is that you will need to download about 1
GiB of data -- the entire git history of the Linux kernel -- just to get
the latest tag. Notably, when -rc2 is tagged, all you'll need to do is
run a quick "``git pull``" to get the latest objects and it will be
dramatically less data to download, so cloning the whole tree may be
worth it to you in the long run if you plan to do this again in the
future.

If you do not want to download the whole git repository and just want to
get the latest tarball, you can download the version automatically
generated by cgit at the following (or similar URL)::

  wget https://git.kernel.org/torvalds/t/linux-4.12-rc1.tar.gz

Please note that you will not be able to cryptographically verify the
integrity of this archive, but the download will be about 10 times less
in size than the full git tree.

Obtaining patches to the previous mainline
------------------------------------------
If you would like to get just the patch to the previous mainline
release, you can get it from cgit as well::

  wget -O patch-4.12-rc1 https://git.kernel.org/torvalds/p/v4.12-rc1/v4.11

Unfortunately, cgit does not currently offer an easy way to get
gzip-compressed patches, but if you would like to reduce the amount of
data you download, you can use http-level gzip compression::

  wget -O patch-4.12-rc1.gz --header="accept-encoding: gzip" \
    https://git.kernel.org/torvalds/p/v4.12-rc1/v4.11

The links to these patches are available on the front page of
https://www.kernel.org/.

Why not provide these at their old locations?
---------------------------------------------
We intentionally did not provide these automatically generated tarballs
and patches in locations previously used by Linus
(``/pub/linux/kernel/v4.x/testing``), even if this meant potentially
breaking automated scripts relying on contents published there. Anything
placed in the /pub tree is signed and curated directly by developers
and all patches and software archives published there invariably come
with a PGP signature provided directly by the developer of that software
(or one of the developers).

Patches and tarballs automatically generated by git.kernel.org are NOT
a replacement for this stringent process, but merely a convenience
service that comes with very different trust implications. By providing
these at different URLs we wanted all users of these services to make a
conscious decision on whether they want to trust these automatically
generated tarballs and patches, or whether they want to change their
process to continue to use PGP-verifiable tags directly from the git
tree.
